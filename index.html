<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Roleta Toca Music Bar</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  height:100vh;
  background:linear-gradient(135deg,#6f7bd9,#b06ccf);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial,sans-serif;
  color:#fff;
}
.container{text-align:center}
.roleta-container{
  position:relative;
  width:300px;
  height:300px;
  margin:20px auto;
}
.roleta{
  width:100%;
  height:100%;
  border-radius:50%;
  border:10px solid #a65b1f;
  background:conic-gradient(
    #000 0% 60%,
    #fff 60% 80%,
    #7a0019 80% 88%,
    #d11c3c 88% 94%,
    #ffd700 94% 98%,
    #ffea00 98% 100%
  );
  transition:transform 4s cubic-bezier(.17,.67,.32,1.34);
}
.luzes{
  position:absolute;
  inset:-18px;
  border-radius:50%;
  border:6px dotted #ffd700;
  animation:girar 6s linear infinite;
}
@keyframes girar{
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}
.ponteiro{
  position:absolute;
  top:-15px;
  left:50%;
  transform:translateX(-50%);
  width:0;height:0;
  border-left:12px solid transparent;
  border-right:12px solid transparent;
  border-bottom:25px solid #ff3366;
}
.centro{
  position:absolute;
  width:90px;height:90px;
  background:#111;
  border-radius:50%;
  top:50%;left:50%;
  transform:translate(-50%,-50%);
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  font-weight:bold;
}
.resultado{margin-top:15px}
.botao-wpp{
  display:none;
  margin-top:12px;
  background:#25d366;
  color:#fff;
  padding:10px 16px;
  border-radius:8px;
  text-decoration:none;
  font-weight:bold;
}
</style>
</head>

<body>
<div class="container">
<h2>Obrigado pela avalia√ß√£o!</h2>
<p>Clique no centro para girar</p>

<div class="roleta-container">
  <div class="ponteiro"></div>
  <div class="luzes"></div>
  <div class="roleta" id="roleta"></div>
  <div class="centro" onclick="girar()">TOCA</div>
</div>

<div class="resultado" id="resultado"></div>
<a id="whatsapp" class="botao-wpp" target="_blank">Resgatar no WhatsApp</a>
</div>

<script>
if(localStorage.getItem("jaGirou")){
  document.getElementById("resultado").innerHTML="Voc√™ j√° participou üòâ";
}

function girar(){
  if(localStorage.getItem("jaGirou")) return;

  const premios=[
    {nome:"N√£o foi dessa vez",chance:60},
    {nome:"Caipirinha de Lim√£o",chance:20},
    {nome:"Caipivodka",chance:8},
    {nome:"10% de desconto",chance:6},
    {nome:"Madonna",chance:4},
    {nome:"Molas",chance:2}
  ];

  let r=Math.random()*100,a=0,premio;
  for(let p of premios){
    a+=p.chance;
    if(r<=a){premio=p.nome;break;}
  }

  const ang=(Math.floor(Math.random()*5)+5)*360+Math.random()*360;
  document.getElementById("roleta").style.transform=`rotate(${ang}deg)`;

  setTimeout(()=>{
    const data=new Date().toLocaleString("pt-BR");
    const codigo=Math.random().toString(36).substr(2,6).toUpperCase();

    document.getElementById("resultado").innerHTML=
      `<strong>${premio}</strong><br>${data}<br>C√≥digo: ${codigo}`;

    const msg=`Ol√°! Ganhei um pr√™mio na roleta da Toca üé∂üçª
Pr√™mio: ${premio}
Data/Hora: ${data}
C√≥digo: ${codigo}`;

    document.getElementById("whatsapp").href=
      "https://wa.me/5532999444547?text="+encodeURIComponent(msg);

    document.getElementById("whatsapp").style.display="inline-block";
    localStorage.setItem("jaGirou",true);
  },4200);
}
</script>
</body>
</html>
